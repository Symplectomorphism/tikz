\documentclass[tikz]{standalone}
% \usetikzlibrary{intersections}
\input{../standalonepreamble.tex}
% \usetikzlibrary{arrows.meta,backgrounds,petri}
\usetikzlibrary{arrows.meta,backgrounds}

\begin{document}

\begin{tikzpicture}
  [place/.style={circle,draw=blue!50,fill=blue!20,thick,inner sep=0pt,minimum
   size=6mm},
   transition/.style={rectangle,draw=black!50,fill=black!20,thick,inner 
   sep=0pt,minimum size=4mm},
   every label/.style={red}]
  \node[place]      (waiting)                            {};
  \node[place]      (critical)       [below=of waiting]  {};
  \node[place]      (semaphore)      [below=of critical,
                                      label=above:$s\leq3$] {};
  \node[transition] (leave critical) [right=of critical] {};
  \node[transition] (enter critical) [left=of critical]  {};

  \draw [->] (enter critical.east) -- (critical.west);
\end{tikzpicture}

\end{document}
